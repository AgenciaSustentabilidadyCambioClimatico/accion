:javascript
	$(document).ready(function(){
		$('.archivo').each(function(){
			var label = $('label[for="'+ $(this).attr('id') +'"]');
			nombreOriginal = label.html();
			$(this).change(function(){								
				if( this.files && this.files.length > 1 ){
					//console.log(this.files.length);
					label.text(filename);
				}
				else if(this.files && this.files.length == 1){
					filename = $(this).val().split('\\').pop();
					label.text(filename);
				}else{
					filename= nombreOriginal
					label.html(filename);
				}
			});
		});		
	});
= form_tag admin_cargas_historicas_carga_historica_path, remote: true, multipart: true, html: { method: :post, class: 'filter', autocomplete: :off } do
	.card
		.card-body
			.row
				.col-12
					%h5.titulo-body
						= t(:carga_histÃ³rica_instrumentos)
				.col-sm-4
					= link_to admin_cargas_historicas_formato_instrumento_path, download: '', class: 'btn btn-sm btn-outline-secondary btn-block' do
						%i.fa.fa-download
							= t(:descarga_formato)
				.col-sm-4
					= file_field_tag 'instrumentos', class: 'archivo not-required-if-other-like-me-is-present'
					= label_tag "instrumentos" do
						%i.fa.fa-upload
							= t(:cargar)
			.row.my-2
				.col-12
					%h5.titulo-body
						= t(:acuerdos_de_produccion_limpia)
				.col-sm-4
					= link_to admin_cargas_historicas_formato_apl_path, download: '', class: 'btn btn-sm btn-outline-secondary btn-block' do
						%i.fa.fa-download
							= t(:descarga_formato)
				.col-sm-4
					= file_field_tag 'apl', class: 'archivo not-required-if-other-like-me-is-present'
					= label_tag "apl" do
						%i.fa.fa-upload
							= t(:cargar)
				.col-sm-4
					= file_field_tag 'aplDocs[]', multiple: true
			.row.my-2
				.col-12
					%h5.titulo-body
						= t(:programa_proyecto_propuesta)
				.col-sm-4
					= link_to admin_cargas_historicas_formato_ppf_path, download: '', class: 'btn btn-sm btn-outline-secondary btn-block' do
						%i.fa.fa-download
							= t(:descarga_formato)
				.col-sm-4
					= file_field_tag 'ppf', class: 'archivo not-required-if-other-like-me-is-present'
					= label_tag "ppf" do
						%i.fa.fa-upload
							= t(:cargar)
				.col-sm-4
					= file_field_tag 'ppfDocs[]', multiple: true
			-# se comentan hasta que se tome desicion definitiva de carga historica.-
			-# .row.my-2
			-# 	.col-12
			-# 		%h5.titulo-body
			-# 			= t(:mapa_de_actores)
			-# 	.col-sm-4
			-# 		= link_to admin_cargas_historicas_formato_actores_path, class: 'btn btn-sm btn-outline-secondary btn-block' do
			-# 			%i.fa.fa-download
			-# 				= t(:descarga_formato)
			-# 	.col-sm-4
			-# 		= file_field_tag 'actores', class: 'archivo not-required-if-other-like-me-is-present'
			-# 		= label_tag "actores" do
			-# 			%i.fa.fa-upload
			-# 				= t(:cargar)
			-# .row.my-2
			-# 	.col-12
			-# 		%h5.titulo-body
			-# 			= t(:adhesion_instrumentos)
			-# 	.col-sm-4
			-# 		= link_to admin_cargas_historicas_formato_adhesion_path, class: 'btn btn-sm btn-outline-secondary btn-block' do
			-# 			%i.fa.fa-download
			-# 				= t(:descarga_formato)
			-# 	.col-sm-4
			-# 		= file_field_tag 'adhesion', class: 'archivo not-required-if-other-like-me-is-present'
			-# 		= label_tag "adhesion" do
			-# 			%i.fa.fa-upload
			-# 				= t(:cargar)
			-# 	.col-sm-4
			-# 		= file_field_tag 'adhesionDocs[]', multiple: true
			-# .row.my-2
			-# 	.col-12
			-# 		%h5.titulo-body
			-# 			= t(:auditorias_instrumento)
			-# 	.col-sm-4
			-# 		= link_to '#', class: 'btn btn-sm btn-outline-secondary btn-block' do
			-# 			%i.fa.fa-download
			-# 				= t(:descarga_formato)
			-# 	.col-sm-4
			-# 		= file_field_tag 'auditoria', class: 'archivo not-required-if-other-like-me-is-present'
			-# 		= label_tag "auditoria" do
			-# 			%i.fa.fa-upload
			-# 				= t(:cargar)
			-# 	.col-sm-4
			-# 		= file_field_tag 'auditoriaDocs[]', multiple: true
			-# .row.my-2
			-# 	.col-12
			-# 		%h5.titulo-body
			-# 			= t(:set_metas_accion)
			-# 	.col-sm-12
			-# 		= link_to '#', "data-toggle"=>:modal, "data-target"=>"#set-metas-accion-remote-modal", class: 'btn btn-sm btn-primary m-0 btn-sm float-left' do
			-# 			set metas
			.row.justify-content-end
				.col-lg-3.col-12.mt-2
					= button_tag "Guardar", 'data-disable-with' => "<i class='fa fa-spinner fa-spin'></i> Guardando...".html_safe, id: 'consultar-button', class: "btn btn-sm btn-primary btn-sm btn-block btn-disabled", disabled: :disabled # float-right", disabled: :disabled
-# = render 'modal_set_metas'